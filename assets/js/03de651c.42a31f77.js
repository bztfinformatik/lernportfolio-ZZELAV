"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[1996],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>g});var r=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l=r.createContext({}),c=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},p=function(e){var n=c(e.components);return r.createElement(l.Provider,{value:n},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},f=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,p=a(e,["components","mdxType","originalType","parentName"]),u=c(t),f=o,g=u["".concat(l,".").concat(f)]||u[f]||d[f]||i;return t?r.createElement(g,s(s({ref:n},p),{},{components:t})):r.createElement(g,s({ref:n},p))}));function g(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,s=new Array(i);s[0]=f;var a={};for(var l in n)hasOwnProperty.call(n,l)&&(a[l]=n[l]);a.originalType=e,a[u]="string"==typeof e?e:o,s[1]=a;for(var c=2;c<i;c++)s[c]=t[c];return r.createElement.apply(null,s)}return r.createElement.apply(null,t)}f.displayName="MDXCreateElement"},873:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>c});var r=t(7462),o=(t(7294),t(3905));const i={sidebar_position:2,title:"Tag 14",pagination_prev:null,tags:["Tag 14","PHP","LB1 / LB2","Session","Cookies"]},s=":construction: IN WORK :construction:",a={unversionedId:"tag-0014/index",id:"tag-0014/index",title:"Tag 14",description:"Arbeiten an LB1 / LB2",source:"@site/docs/tag-0014/index.md",sourceDirName:"tag-0014",slug:"/tag-0014/",permalink:"/lernportfolio-ZZELAV/docs/tag-0014/",draft:!1,tags:[{label:"Tag 14",permalink:"/lernportfolio-ZZELAV/docs/tags/tag-14"},{label:"PHP",permalink:"/lernportfolio-ZZELAV/docs/tags/php"},{label:"LB1 / LB2",permalink:"/lernportfolio-ZZELAV/docs/tags/lb-1-lb-2"},{label:"Session",permalink:"/lernportfolio-ZZELAV/docs/tags/session"},{label:"Cookies",permalink:"/lernportfolio-ZZELAV/docs/tags/cookies"}],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Tag 14",pagination_prev:null,tags:["Tag 14","PHP","LB1 / LB2","Session","Cookies"]},sidebar:"tutorialSidebar",next:{title:"LB1",permalink:"/lernportfolio-ZZELAV/docs/lb-0001/"}},l={},c=[{value:"1 Session",id:"1-session",level:2},{value:"2 Cookies",id:"2-cookies",level:2},{value:"3 Auftrag G\xe4stez\xe4hler",id:"3-auftrag-g\xe4stez\xe4hler",level:2}],p={toc:c};function u(e){let{components:n,...i}=e;return(0,o.kt)("wrapper",(0,r.Z)({},p,i,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"-in-work-"},"\ud83d\udea7 IN WORK \ud83d\udea7"),(0,o.kt)("h1",{id:"tag-14"},"Tag 14"),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Arbeiten an LB1 / LB2")),(0,o.kt)("h2",{id:"1-session"},"1 Session"),(0,o.kt)("h2",{id:"2-cookies"},"2 Cookies"),(0,o.kt)("h2",{id:"3-auftrag-g\xe4stez\xe4hler"},"3 Auftrag G\xe4stez\xe4hler"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Auftrag G\xe4stez\xe4hler",src:t(5248).Z,width:"1554",height:"972"})),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-php"},'<?php\nsession_start();\n\n$currentSession = session_id();\n\nsetcookie("session", $currentSession, time() + 3600);\n\nif ($currentSession != $_COOKIE["session"]) {\n    if (isset($_COOKIE["counter"])) {\n        $count = $_COOKIE["counter"];\n        $count++;\n        setcookie("counter", $count, time() + 3600);\n    } else {\n        setcookie("counter", 0, time() + 3600);\n    }\n}\n\necho "Current session: " . $currentSession;\necho "<br>Cookie session: " . $_COOKIE["session"];\necho "<br><br>" . $_COOKIE["counter"];\n')),(0,o.kt)("p",null,"Da mit Session gearbeitet wird, muss als erstes ",(0,o.kt)("inlineCode",{parentName:"p"},"session_start()")," ausgef\xfchrt werden. Danach wird die derzeitige Session-ID geholt. Mit dieser k\xf6nnen wir \xfcberpr\xfcfen, ob der User nur die Seite neu l\xe4dt oder wirklich den ganzen Browser neustartet, denn bei jedem neuem Prozess von einem Browser, wird eine neue Session-ID generiert. Danach schreiben wir diese Session in einen Cookie, der f\xfcr 1 Stunde beibehalten wird. Danach k\xf6nnen wir \xfcberpr\xfcfen ob die derzeigte Session der Session im Cookie zutrifft. Trifft dies nicht zu holen wir uns, falls vorhanden, den Cookie ",(0,o.kt)("inlineCode",{parentName:"p"},"counter")," und erh\xf6hen den um einen. Dieser Cookie wird ebenfalls f\xfcr eine 1 Stunde gespeichert. Als letztes geben wir noch die derzeigte und die Cookie Session aus (um zu \xfcberpr\xfcfen) und den Counter.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("a",{parentName:"p",href:"https://www.php-einfach.de/experte/php-codebeispiele/besucherzaehler-mit-reload-sperre/"},"(Besseres Beispiel)")))}u.isMDXComponent=!0},5248:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/auftrag_gaestezaehler-d40602c4cc0aec1dc5895cf1e0a86846.png"}}]);